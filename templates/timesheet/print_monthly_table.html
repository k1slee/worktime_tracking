<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–∞–±–µ–ª—å —É—á–µ—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞ {{ month|stringformat:"02d" }}.{{ year }} –≥.</title>
    <style>
    /* ===== –ë–ê–ó–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ===== */
    @page {
        size: A4 landscape;
        margin: 5mm;
    }
    
    body {
        font-family: 'Arial', sans-serif;
        font-size: 6pt;
        line-height: 1;
        margin: 0;
        padding: 0;
    }
    
    /* ===== –®–ê–ü–ö–ê –î–û–ö–£–ú–ï–ù–¢–ê ===== */
    .header {
        width: 100%;
        margin-bottom: 2mm;
    }
    
    .org-name {
        font-size: 8pt;
        font-weight: bold;
        margin-bottom: 0.5mm;
    }
    
    .org-details {
        font-size: 6pt;
        color: #666;
        margin-bottom: 1mm;
    }
    
    .workshop-master-line {
        font-size: 8pt;
        font-weight: bold;
        text-transform: uppercase;
        margin-bottom: 0.5mm;
    }
    
    .workshop-details {
        font-size: 6pt;
        color: #666;
        margin-bottom: 2mm;
    }
    
    .main-title {
        text-align: center;
        font-size: 12pt;
        font-weight: bold;
        text-transform: uppercase;
        margin-bottom: 2mm;
        padding-bottom: 0.5mm;
        border-bottom: 1pt solid #000;
    }
    
    /* ===== –¢–ê–ë–õ–ò–¶–ê ===== */
    .table {
        width: 100%;
        border-collapse: collapse;
        font-size: 6pt;
        page-break-inside: auto;
        table-layout: fixed;
    }
    
    .table th, .table td {
        border: 0.5pt solid #000;
        padding: 0.1mm;
        text-align: center;
        vertical-align: middle;
        line-height: 1;
        overflow: hidden;
    }
    
    /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü—ã */
    .table th {
        background-color: #f0f0f0;
        font-weight: normal !important; /* –ë–µ–∑ –∂–∏—Ä–Ω–æ–≥–æ */
    }
    
    /* –Ø—á–µ–π–∫–∏ –¥–∞–Ω–Ω—ã—Ö */
    .table td {
        height: auto;
    }
    
    /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ */
    .col-number { 
        width: 8mm; 
    }
    
    .col-name { 
        width: 45mm; 
        text-align: left; 
        padding-left: 0.5mm !important;
        font-size: 6.5pt;
    }
    
    .col-position { 
        width: 35mm; 
        text-align: left; 
        padding-left: 0.5mm !important;
    }
    
    /* –†–ê–ó–ú–ï–†–´ –ó–ê–ì–û–õ–û–í–ö–û–í */
    /* –Ø—á–µ–π–∫–∏ —Å –¥–∞—Ç–∞–º–∏ - 4–º–º √ó 12–º–º */
    .table th.day-col-header { 
        width: 4mm !important; 
        height: 12mm !important;
        min-width: 4mm !important;
        max-width: 4mm !important;
    }
    
    /* –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ - 4–º–º √ó 12–º–º */
    .table th.col-worked-days-header,
    .table th.col-stats-header,
    .table th.col-total-hours-header,
    .table th.col-subhours-header {
        width: 4mm !important;
        height: 12mm !important;
        min-width: 4mm !important;
        max-width: 4mm !important;
    }
    
    /* –¢–∞–±–µ–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä - 8–º–º √ó 11–º–º */
    .table th.col-employee-id-header { 
        width: 8mm !important; 
        height: 11mm !important;
        min-width: 8mm !important;
        max-width: 8mm !important;
    }
    
    /* –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ - 4–º–º –≤—ã—Å–æ—Ç–∞ */
    .table th[colspan]:not([rowspan]) {
        height: 4mm !important;
    }
    
    /* –ö–æ–ª–æ–Ω–∫–∏ ‚Ññ –ø/–ø, –§–ò–û, –î–æ–ª–∂–Ω–æ—Å—Ç—å - 16–º–º –≤—ã—Å–æ—Ç–∞ */
    .table th[rowspan="2"]:not(.col-employee-id-header) {
        height: 16mm !important; /* 4–º–º + 12–º–º */
    }
    
    /* –†–ê–ó–ú–ï–†–´ –î–ê–ù–ù–´–• */
    .table td.day-col { 
        width: 4mm !important; 
        min-width: 4mm !important;
        max-width: 4mm !important;
    }
    
    .table td.col-worked-days-data,
    .table td.col-stats-data,
    .table td.col-total-hours-data,
    .table td.col-subhours-data {
        width: 4mm !important;
        min-width: 4mm !important;
        max-width: 4mm !important;
    }
    
    .table td.col-employee-id-data { 
        width: 8mm !important; 
        min-width: 8mm !important;
        max-width: 8mm !important;
    }
    
    /* –¶–í–ï–¢–ê –ö–û–õ–û–ù–û–ö */
    .col-worked-days-header, .table td.col-worked-days-data {
        background-color: #ffffcc !important;
    }
    
    .col-stats-header, .table td.col-stats-data {
        background-color: #f5f5f5 !important;
    }
    
    .col-total-hours-header, .table td.col-total-hours-data {
        background-color: #ffffcc !important;
    }
    
    .col-subhours-header, .table td.col-subhours-data {
        background-color: #f5f5f5 !important;
    }
    
    /* –í—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏ */
    .weekend-day { 
        background-color: #fff0f0 !important; 
    }
    
    .weekend-cell { 
        background-color: #fff8f8 !important; 
    }
    
    /* –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ */
    .total-row td {
        font-weight: bold;
        background-color: #e8e8e8 !important;
    }
    
    /* –í–ï–†–¢–ò–ö–ê–õ–¨–ù–´–ô –¢–ï–ö–°–¢ */
    .vertical-text-header {
        position: relative;
        padding: 0 !important;
    }
    
    .vertical-text-content {
        writing-mode: vertical-rl;
        transform: rotate(180deg);
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) rotate(180deg);
        white-space: nowrap;
        font-size: 5.5pt;
        line-height: 1;
        font-weight: normal;
        text-align: center;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* –ß–∞—Å–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç */
    .col-total-hours-header .vertical-text-content,
    .col-subhours-header .vertical-text-content {
        writing-mode: horizontal-tb !important;
        transform: none !important;
        white-space: normal !important;
        font-size: 6pt !important;
    }
    
    /* –î–ª—è —Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —è—á–µ–µ–∫ */
    .cell-content {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        width: 100%;
    }
    
    /* –£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è */
    .legend-container {
        margin-top: 2mm;
        font-size: 5.5pt;
        border-top: 0.5pt solid #ccc;
        padding-top: 0.5mm;
    }
    
    .legend-title {
        font-weight: bold;
        margin-bottom: 0.5mm;
        text-align: center;
        font-size: 6pt;
    }
    
    .legend-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 0.5mm;
    }
    
    .legend-table td {
        padding: 0.2mm 0.5mm;
        vertical-align: top;
        border: none;
        text-align: left;
        width: 33.33%;
    }
    
    .legend-code {
        font-weight: bold;
        width: 5mm;
        text-align: center;
    }
    
    /* –ü–æ–¥–ø–∏—Å–∏ */
    .signatures {
        margin-top: 5mm;
        display: flex;
        justify-content: space-between;
        font-size: 7pt;
    }
    
    .signature-left, .signature-right {
        width: 45%;
    }
    
    /* –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    .page-number {
        position: fixed;
        bottom: 3mm;
        right: 8mm;
        font-size: 6pt;
        color: #666;
    }
    
    /* –ü–µ—á–∞—Ç—å */
    @media print {
        .no-print { display: none !important; }
        body { margin: 0; padding: 0; }
        .table th, .table td { border-color: #000 !important; }
    }
    /* –°–∫—Ä—ã—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏ */
        @media print {
            tr[style*="height: 0"] th {
                display: none !important;
                height: 0 !important;
                padding: 0 !important;
                margin: 0 !important;
                border: none !important;
            }
            
            tr[style*="height: 0"] {
                height: 0 !important;
                line-height: 0 !important;
            }
        }

        /* –Ø–≤–Ω–æ –∑–∞–¥–∞—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö —è—á–µ–µ–∫ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö */
        .table th[rowspan],
        .table th[colspan] {
            visibility: visible !important;
        }

        /* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≥—Ä–∞–Ω–∏—Ü—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è */
        .table th, .table td {
            border: 0.5pt solid #000 !important;
        }
</style>
</head>
<body>
    <!-- ===== –®–ê–ü–ö–ê –î–û–ö–£–ú–ï–ù–¢–ê ===== -->
    <div class="header">
        <div class="org-name">–£–Ω–∏—Ç–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ "–¶–≤–µ—Ç–ª–∏—Ç"</div>
        <div class="org-details">(–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)</div>
        
        <div class="workshop-master-line">{{ workshop_name }} {{ master_name }}</div>
        <div class="workshop-details">–¶–µ—Ö (–æ—Ç–¥–µ–ª), —É—á–∞—Å—Ç–æ–∫</div>
        
        <div class="main-title">
            –¢–∞–±–µ–ª—å —É—á–µ—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞ 
            {% if month == 1 %}—è–Ω–≤–∞—Ä—å{% elif month == 2 %}—Ñ–µ–≤—Ä–∞–ª—å{% elif month == 3 %}–º–∞—Ä—Ç{% elif month == 4 %}–∞–ø—Ä–µ–ª—å{% elif month == 5 %}–º–∞–π{% elif month == 6 %}–∏—é–Ω—å{% elif month == 7 %}–∏—é–ª—å{% elif month == 8 %}–∞–≤–≥—É—Å—Ç{% elif month == 9 %}—Å–µ–Ω—Ç—è–±—Ä—å{% elif month == 10 %}–æ–∫—Ç—è–±—Ä—å{% elif month == 11 %}–Ω–æ—è–±—Ä—å{% elif month == 12 %}–¥–µ–∫–∞–±—Ä—å{% endif %}
            {{ year }} –≥–æ–¥–∞
        </div>
    </div>
    
    <!-- ===== –¢–ê–ë–õ–ò–¶–ê ===== -->
    <table class="table">
        <thead>
            <!-- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ - —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ -->
            <tr>
                <th rowspan="3" class="col-number" style="height: 16mm !important;">‚Ññ –ø/–ø</th>
                <th rowspan="3" class="col-name" style="height: 16mm !important;">–§–∞–º–∏–ª–∏—è, –ò.–û.</th>
                <th rowspan="3" class="col-position" style="height: 16mm !important;">–ü—Ä–æ—Ñ–µ—Å—Å–∏—è, –¥–æ–ª–∂–Ω–æ—Å—Ç—å</th>
                <th rowspan="3" class="col-employee-id-header" style="height: 16mm !important;">–¢–∞–±–µ–ª—å–Ω—ã–π ‚Ññ</th>
                
                <!-- –ß–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞ -->
                <th colspan="{{ days|length }}" rowspan="1" style="text-align: center; height: 4mm !important;">
                    <div class="cell-content">–ß–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞</div>
                </th>
                
                <!-- –î–Ω–∏ —è–≤–æ–∫ -->
                <th colspan="2" rowspan="1" style="text-align: center; height: 4mm !important;">
                    <div class="cell-content">–î–Ω–∏ —è–≤–æ–∫</div>
                </th>
                
                <!-- –î–Ω–∏ –Ω–µ—è–≤–æ–∫ -->
                <th colspan="5" rowspan="1" style="text-align: center; height: 4mm !important;">
                    <div class="cell-content">–î–Ω–∏ –Ω–µ—è–≤–æ–∫</div>
                </th>
                
                <!-- –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ —á–∞—Å–æ–≤ -->
                <th colspan="6" rowspan="1" style="text-align: center; height: 4mm !important;">
                    <div class="cell-content">–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ —á–∞—Å–æ–≤</div>
                </th>
            </tr>
            
            <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ - –ø—É—Å—Ç–∞—è, –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–µ—á–∞—Ç–∏ -->
            <tr style="height: 0 !important;">
                {% for day in days %}
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                {% endfor %}
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
                <th style="height: 0 !important; border: none !important; padding: 0 !important;"></th>
            </tr>
            
            <!-- –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ -->
            <tr>
                <!-- –î–Ω–∏ –º–µ—Å—è—Ü–∞ -->
                {% for day in days %}
                {% with day_date=year|stringformat:"s"|add:"-"|add:month|stringformat:"02d"|add:"-"|add:day|stringformat:"02d" %}
                <th class="day-col-header {% if day_date|date:'w' in '06' %}weekend-day{% endif %}" style="height: 12mm !important;">
                    <div class="cell-content">{{ day }}</div>
                </th>
                {% endwith %}
                {% endfor %}
                
                <!-- –ö–æ–ª–æ–Ω–∫–∏ –ø–æ–¥ "–î–Ω–∏ —è–≤–æ–∫" -->
                <th class="col-worked-days-header vertical-text-header" style="height: 12mm !important;">
                    <div class="vertical-text-content">—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã</div>
                </th>
                <th class="col-stats-header vertical-text-header" style="height: 12mm !important;">
                    <div class="vertical-text-content">—Ü–µ–ª–æ—Å–º–µ–Ω–Ω—ã—Ö</br> –ø—Ä–æ—Å—Ç–æ–µ–≤</div>
                </th>
                
                <!-- –ö–æ–ª–æ–Ω–∫–∏ –ø–æ–¥ "–î–Ω–∏ –Ω–µ—è–≤–æ–∫" -->
                <th class="col-stats-header vertical-text-header" style="height: 12mm !important;">
                    <div class="vertical-text-content">–æ—á–µ—Ä–µ–¥–Ω–æ–π</br> –æ—Ç–ø—É—Å–∫</div>
                </th>
                <th class="col-stats-header vertical-text-header" style="height: 12mm !important;">
                    <div class="vertical-text-content">–±–æ–ª–µ–∑–Ω—å</div>
                </th>
                <th class="col-stats-header vertical-text-header" style="height: 12mm !important;">
                    <div class="vertical-text-content">–ø—Ä–æ—á–∏–µ –Ω–µ—è–≤–∫–∏,</br> —Ä–∞–∑—Ä–µ—à.–∑–∞–∫–æ–Ω.</div>
                </th>
                <th class="col-stats-header vertical-text-header" style="height: 12mm !important;">
                    <div class="vertical-text-content">—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</br> –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
                </th>
                <th class="col-stats-header vertical-text-header" style="height: 12mm !important;">
                    <div class="vertical-text-content">–ø—Ä–æ–≥—É–ª</div>
                </th>
                
                <!-- –ö–æ–ª–æ–Ω–∫–∏ –ø–æ–¥ "–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ —á–∞—Å–æ–≤" -->
                <th class="col-total-hours-header" style="height: 12mm !important;">
                    <div class="cell-content">–≤—Å–µ–≥–æ</div>
                </th>
                <th class="col-subhours-header" style="height: 12mm !important;">
                    <div class="cell-content">–°–ü</div>
                </th>
                <th class="col-subhours-header" style="height: 12mm !important;">
                    <div class="cell-content">–≤–µ—á–µ—Ä–Ω–∏–µ</div>
                </th>
                <th class="col-subhours-header" style="height: 12mm !important;">
                    <div class="cell-content">–Ω–æ—á–Ω—ã–µ</div>
                </th>
                <th class="col-subhours-header" style="height: 12mm !important;">
                    <div class="cell-content">–≤—ã—Ö–æ–¥–Ω—ã–µ</div>
                </th>
                <th class="col-subhours-header" style="height: 12mm !important;">
                    <div class="cell-content">—Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω–æ</div>
                </th>
            </tr>
        </thead>
        
        <tbody>
            {% for row in table_data %}
            <tr>
                <td class="col-number">
                    <div class="cell-content">{{ forloop.counter }}</div>
                </td>
                <td class="col-name">{{ row.employee.full_name }}</td>
                <td class="col-position">{{ row.employee.position|default:"-" }}</td>
                <td class="col-employee-id-data">
                    <div class="cell-content">{{ row.employee.employee_id }}</div>
                </td>
                
                <!-- –î–Ω–∏ –º–µ—Å—è—Ü–∞ -->
                {% for day_data in row.days %}
                {% with day_date=year|stringformat:"s"|add:"-"|add:month|stringformat:"02d"|add:"-"|add:day_data.day|stringformat:"02d" %}
                <td class="day-col {% if day_date|date:'w' in '06' %}weekend-cell{% endif %}">
                    <div class="cell-content">
                        {{ day_data.display_value|default:"" }}
                    </div>
                </td>
                {% endwith %}
                {% endfor %}
                
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–Ω—è–º -->
                <td class="col-worked-days-data">
                    <div class="cell-content">{{ row.attendance_days }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ row.downtime_days }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ row.vacation_days }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ row.illness_days }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ row.other_absence_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ row.admin_permission_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ row.absence_days }}</div>
                </td>
                
                <!-- –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã -->
                <td class="col-total-hours-data">
                    <div class="cell-content">{{ row.total_hours }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ row.sp_hours|default:"" }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ row.evening_hours }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ row.night_hours }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ row.weekend_hours }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ row.overtime_hours }}</div>
                </td>
            </tr>
            {% endfor %}
            
            <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ -->
            <tr class="total-row">
                <td colspan="{{ days|length|add:'4' }}">–ò–¢–û–ì–û</td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ total_attendance_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ total_downtime_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ total_vacation_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ total_illness_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ total_other_absence_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ total_admin_permission_days|default:"0" }}</div>
                </td>
                <td class="col-stats-data">
                    <div class="cell-content">{{ total_absence_days|default:"0" }}</div>
                </td>
                <td class="col-total-hours-data">
                    <div class="cell-content">{{ total_hours|default:"0" }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ total_sp_hours|default:"" }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ total_evening_hours|default:"0" }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ total_night_hours|default:"0" }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ total_weekend_hours|default:"0" }}</div>
                </td>
                <td class="col-subhours-data">
                    <div class="cell-content">{{ total_overtime_hours|default:"0" }}</div>
                </td>
            </tr>
        </tbody>
    </table>
    
    <!-- ===== –£–°–õ–û–í–ù–´–ï –û–ë–û–ó–ù–ê–ß–ï–ù–ò–Ø ===== -->
    <div class="legend-container">
        <div class="legend-title">–£–°–õ–û–í–ù–´–ï –û–ë–û–ó–ù–ê–ß–ï–ù–ò–Ø</div>
        <table class="legend-table">
            <tr>
                <td>–í—ã—Ö–æ–¥–Ω—ã–µ –∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏</td>
                <td class="legend-code">–í</td>
                <td>–õ—å–≥–æ—Ç–Ω—ã–µ —á–∞—Å—ã –∫–æ—Ä–º—è—â–∏—Ö –º–∞—Ç–µ—Ä–µ–π</td>
                <td class="legend-code">–ú</td>
                <td>–ü—Ä–æ–≥—É–ª—ã</td>
                <td class="legend-code">–ü</td>
            </tr>
            <tr>
                <td>–ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏ —Å–ª—É–∂–µ–±–Ω—ã–µ</td>
                <td class="legend-code">–ö</td>
                <td>–ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤ –¥–æ 18 –ª–µ—Ç</td>
                <td class="legend-code">–õ</td>
                <td>–û–ø–æ–∑–¥–∞–Ω–∏—è –∏ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —É—Ö–æ–¥ —Å —Ä–∞–±–æ—Ç—ã</td>
                <td class="legend-code">–ù</td>
            </tr>
            <tr>
                <td>–û—á–µ—Ä–µ–¥–Ω—ã–µ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–ø—É—Å–∫–∞</td>
                <td class="legend-code">–û</td>
                <td>–õ—å–≥–æ—Ç–Ω—ã–µ —á–∞—Å—ã —Ä–∞–±–æ—á–∏—Ö —Å –≤—Ä–µ–¥–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏</td>
                <td class="legend-code">–î</td>
                <td>–ù–µ—è–≤–∫–∏, —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∑–∞–∫–æ–Ω–æ–º (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥–æ—Å.–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π)</td>
                <td class="legend-code">–ì</td>
            </tr>
            <tr>
                <td>–ù–µ—Ç—Ä—É–¥–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (–±–æ–ª–µ–∑–Ω—å, –∫–∞—Ä–∞–Ω—Ç–∏–Ω –∏ —Ç.–ø.)</td>
                <td class="legend-code">–ë</td>
                <td>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ —Å–ø—Ä–∞–≤–∫–µ</td>
                <td class="legend-code">–û–°</td>
                <td>–ù–µ—è–≤–∫–∏ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏</td>
                <td class="legend-code">–ê</td>
            </tr>
            <tr>
                <td>–û—Ç–ø—É—Å–∫ –ø–æ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ä–æ–¥–∞–º</td>
                <td class="legend-code">–†</td>
                <td>–ü—Ä–æ—Å—Ç–æ–∏ —Ü–µ–ª–æ—Å–º–µ–Ω–Ω—ã–µ</td>
                <td class="legend-code">–¶–ü</td>
                <td>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–≤–æ–±–æ–¥–Ω—ã–π –æ—Ç —Ä–∞–±–æ—Ç—ã –¥–µ–Ω—å –º–∞—Ç–µ—Ä–∏ (–æ—Ç—Ü–∞)</td>
                <td class="legend-code">–î–ú</td>
            </tr>
            <tr>
                <td>–°–æ—Ü–∏–∞–ª—å–Ω—ã–π –æ—Ç–ø—É—Å–∫ –ø–æ —É—Ö–æ–¥—É –∑–∞ —Ä–µ–±–µ–Ω–∫–æ–º –¥–æ 3 –ª–µ—Ç</td>
                <td class="legend-code">–û–ñ</td>
                <td>–ü—Ä–æ—Å—Ç–æ–∏ –≤–Ω—É—Ç—Ä–∏—Å–º–µ–Ω–Ω—ã–µ</td>
                <td class="legend-code">–ß</td>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
    
    <!-- ===== –ü–û–î–ü–ò–°–ò ===== -->
    <div class="signatures">
        <div class="signature-left">
            –ù–∞—á–∞–ª—å–Ω–∏–∫ —Ü–µ—Ö–∞ ______________ –ê.–ì. –õ–∞–ø–∏—Ü–∫–∏–π
        </div>
        <div class="signature-right">
            –°–æ—Å—Ç–∞–≤–∏–ª______________________ {{ master_name }}
        </div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—á–∞—Ç–∏ (–Ω–µ –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è) -->
    <button onclick="window.print()" class="no-print" style="position: fixed; top: 5px; right: 5px; padding: 3px 6px; background: #4CAF50; color: white; border: none; cursor: pointer; z-index: 1000; font-size: 8pt;">
        üñ®Ô∏è –ü–µ—á–∞—Ç—å
    </button>
    
    <!-- –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="page-number">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</div>
</body>
</html>